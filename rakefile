require 'cucumber'
require 'cucumber/rake/task'

desc 'Run Cucumber features and generate an HTML summary and a plain text log'

Cucumber::Rake::Task.new(:all) do |t|
  t.cucumber_opts = "--color --format html --out logs/change_subscription_period_#{Time.now.strftime("%F_%H_%M")}.html --format pretty features/change_subscription_period.feature"
  t.cucumber_opts = "--color --format html --out logs/manage_invoice_comm_setting_#{Time.now.strftime("%F_%H_%M")}.html --format pretty features/manage_invoice_comm_settings.feature"
end

Cucumber::Rake::Task.new(:smoke_test) do |t|
  t.cucumber_opts = "--color --format html --out logs/smoke_test_#{DateTime.now.strftime("%F_%H_%M")}.html --tags @smoke_test"
end

Cucumber::Rake::Task.new(:change_subscription_period) do |t|
  t.cucumber_opts = "--color --format html --out logs/change_subscription_period_#{Time.now.strftime("%F_%H_%M")}.html --format pretty features/change_subscription_period.feature"
end

Cucumber::Rake::Task.new(:invoice_setting) do |t|
  t.cucumber_opts = "--color --format html --out logs/manage_invoice_comm_setting_#{Time.now.strftime("%F_%H_%M")}.html --format pretty features/manage_invoice_comm_settings.feature"
end